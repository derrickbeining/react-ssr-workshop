{"version":3,"sources":["webpack:///webpack/bootstrap ca0fbbb038fe13dedc69","webpack:///external \"react\"","webpack:///./src/store/actions/index.js","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-router-config\"","webpack:///external \"axios\"","webpack:///external \"serialize-javascript\"","webpack:///./src/store/reducers/index.js","webpack:///external \"redux\"","webpack:///./src/server/index.js","webpack:///external \"babel-polyfill\"","webpack:///external \"express\"","webpack:///external \"express-http-proxy\"","webpack:///./src/server/render.js","webpack:///external \"react-dom/server\"","webpack:///./src/routes/index.js","webpack:///./src/client/components/App.js","webpack:///./src/client/components/Header.js","webpack:///./src/client/pages/HomePage.js","webpack:///./src/client/pages/AdminsListPage.js","webpack:///./src/client/components/hocs/requireAuth.js","webpack:///./src/client/pages/UsersListPage.js","webpack:///./src/client/pages/NotFoundPage.js","webpack:///./src/store/index.js","webpack:///./src/store/reducers/adminsReducer.js","webpack:///./src/store/reducers/usersReducer.js","webpack:///./src/store/reducers/authReducer.js","webpack:///./src/store/constructStore.js","webpack:///external \"redux-thunk\"","webpack:///./src/server/buildHTML.js","webpack:///external \"react-helmet\""],"names":["FETCH_USERS","fetchUsers","dispatch","getState","apiAxios","get","then","type","payload","res","FETCH_CURRENT_USER","fetchCurrentUser","FETCH_ADMINS","fetchAdmins","admins","auth","users","app","use","proxyReqOptDecorator","opts","headers","static","listen","console","log","req","store","matchedRoutes","path","page","find","route","title","dataLoading","map","component","loadData","dontReject","promise","Promise","fulfill","catch","all","context","appString","html","url","redirect","notFound","status","send","error","reason","response","sendStatus","routes","exact","App","Header","authButton","mapState","state","Home","AdminsListPage","renderAdmins","props","admin","id","name","authEnforced","connectedToStore","RequireAuth","UsersList","setPageHeader","renderUsers","length","user","NotFoundPage","staticContext","default","action","data","constructStore","clientToAPI","create","baseURL","newServerAxios","cookie","initialState","customAxios","window","INITIAL_STATE","withExtraArgument","helmet","renderStatic","toString","meta","isJSON"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ca0fbbb038fe13dedc69","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import axios from 'axios';\n\nexport const FETCH_USERS = 'fetch_users';\n// ------------------------------------------------------- from thunk.withExtraArgument\n// ------------------------------------------------------- in client/index &\n// ------------------------------------------------------- server / createStore\nexport const fetchUsers = () => async (dispatch, getState, apiAxios) => {\n  return apiAxios.get('/users')\n    .then(res => dispatch({type: FETCH_USERS, payload: res}))\n  // .catch(reason => console.warn(reason.response));\n}\n\nexport const FETCH_CURRENT_USER = 'fetch_current_user';\nexport const fetchCurrentUser = () => (dispatch, getState, apiAxios) => {\n  return apiAxios.get('/current_user')\n    .then(res => dispatch({type: FETCH_CURRENT_USER, payload: res}))\n  // .catch(reason => console.warn(reason.response));\n}\n\nexport const FETCH_ADMINS = 'fetch_admins';\nexport const fetchAdmins = () => (dispatch, getState, apiAxios) => {\n  return apiAxios.get('/admins')\n    .then(res => dispatch({type: FETCH_ADMINS, payload: res}))\n  // .catch(reason => console.warn(reason.response));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/index.js","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"react-router-config\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-config\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 6\n// module chunks = 0","import {combineReducers} from 'redux';\nimport adminsReducer from './adminsReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n  admins: adminsReducer,\n  auth: authReducer,\n  users: usersReducer,\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/index.js","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 8\n// module chunks = 0","import 'babel-polyfill';\nimport express from 'express';\nimport proxy from 'express-http-proxy';\nimport renderApp from 'server/render';\n\n\nconst app = express();\n\napp.use('/api', proxy('http://react-ssr-api.herokuapp.com', {\n  proxyReqOptDecorator (opts) {\n    opts.headers['x-forwarded-host'] = 'localhost:3000';\n    return opts;\n  }\n}))\n\napp.use(express.static('public'));\n\napp.get('*', renderApp)\n\n\napp.listen(3000, () => {\n  console.log(`Listening on port 3000`);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/index.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"express-http-proxy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-http-proxy\"\n// module id = 12\n// module chunks = 0","import React from 'react';\nimport {renderToNodeStream, renderToString} from 'react-dom/server';\nimport {StaticRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport {renderRoutes} from 'react-router-config';\nimport Routes from 'routes';\nimport serialize from 'serialize-javascript';\nimport {matchRoutes} from 'react-router-config';\nimport constructStore from 'store';\nimport buildHTML from 'server/buildHTML';\n\nexport default (req, res) => {\n  // --------------------- need the cookie from the req obj in order to authenticate\n  // --------------------- proxied API request from the client\n  const store = constructStore(req);\n  // ---------------- matchRoutes generates array of route objs (from src/routes)\n  // ---------------- that match the requested URL\n  const matchedRoutes = matchRoutes(Routes, req.path);\n  const page = matchedRoutes.find(({route}) => route.title).route;\n  const dataLoading = matchedRoutes.map(({route: {component}}) => {\n    // we can pre-load the redux store with any async data needed by the components\n    // by checking each component for a loadData class method and calling it\n    // with the store passed. Be sure it returns a promise so we can wait on\n    // Promise.all below\n    if (component.loadData) return component.loadData(store)\n  })\n\n  const dontReject = promise => {\n    if (promise) {\n      return new Promise((fulfill) => {\n        promise.then(fulfill).catch(fulfill)\n      })\n    }\n  };\n\n  // only after all the necessary data has been loaded to the redux store\n  // do we render the app to a string (or stream!) and send the request.\n  // dontReject helps us handle a \"gotcha\" from Promise.all: if any of the thunk\n  // requests fail, Promise.all will short-circuit any still pending promises and just\n  // jump right to the .catch callback. That behavior would lead to undesireable\n  // results for the user\n  Promise.all(dataLoading.map(dontReject))\n    .then(() => {\n      // holding a reference to the context object before it's passed to\n      // the app and rendered will allow us to check for important application\n      // state after it's rendered, which will allow us to determine precisely\n      // how to respond to the http request depnding on what get's rendered by\n      //the Router logic\n      const context = {};\n\n      const appString = renderToString(\n        <Provider store={store}>\n          <StaticRouter location={req.path} context={context}>\n            {/* transforms our arr of route objs to <Route /> components */}\n            <div>{renderRoutes(Routes)}</div>\n          </StaticRouter>\n        </Provider>\n      );\n\n      const html = buildHTML(store, appString);\n      // context.url is only added if <Redirect /> is rendered\n      if (context.url) return res.redirect(301, context.url)\n      // context.notFound is set if the <NotFoundPage /> is rendered\n      if (context.notFound) res.status(404);\n      res.send(html)\n      // res.write(documentTop);\n      // const stream = renderToNodeStream(reactApp)\n      // stream.pipe(res, {end: false});\n      // stream.on('end', () => {\n      //   res.write(documentBottom);\n      //   res.end(404);\n      // })\n    }).catch(reason => {\n      console.error(reason.response)\n      res.sendStatus(500);\n    })\n\n\n\n  // const content = renderToNodeStream(\n  //   <Provider store={store}>\n  //     <StaticRouter location={req.path} context={{}}>\n  //       {/* transforms our arr of route objs to <Route /> components */}\n  //       <div>{renderRoutes(Routes)}</div>\n  //     </StaticRouter>\n  //   </Provider>\n  // );\n  // return `\n  //   <html>\n  //     <head>\n  //       <meta charset=\"UTF-8\">\n  //       <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  //       <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  //       <title>${page.title}</title>\n  //       <script>\n  //         window.INITIAL_STATE = ${serialize(store.getState(), {isJSON: true})}\n  //       </script>\n  //       <script defer src=\"bundle.js\"></script>\n  //     </head>\n  //     <body>\n  //       <div id=\"root\">\n  //         ${content}\n  //       </div>\n  //     </body>\n  //   </html>\n  // `;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/render.js","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 14\n// module chunks = 0","import React from 'react';\nimport App from 'client/components/App';\nimport HomePage from 'client/pages/HomePage';\nimport AdminsListPage from 'client/pages/AdminsListPage';\nimport UsersListPage from 'client/pages/UsersListPage';\nimport NotFoundPage from 'client/pages/NotFoundPage';\n\nexport default [\n  {\n    component: App,\n    routes: [\n      {\n        path: '/',\n        exact: true,\n        title: 'Home',\n        component: HomePage,\n      },\n      {\n        path: '/admins',\n        component: AdminsListPage,\n        title: 'Admins List'\n      },\n      {\n        path: '/users',\n        component: UsersListPage,\n        title: 'Users Lists',\n      },\n      {\n        component: NotFoundPage,\n        title: 'Not Found',\n      },\n    ]\n  }\n\n];\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/index.js","import React from 'react';\nimport {renderRoutes} from 'react-router-config';\nimport Header from 'client/components/Header';\nimport {fetchCurrentUser} from 'store/actions';\n\nconst App = ({route}) => {\n\n  return (\n    <div>\n      <Header />\n      {renderRoutes(route.routes)}\n      <h2>Footer</h2>\n    </div>\n  )\n};\n\n\nApp.loadData = (store) => store.dispatch(fetchCurrentUser());\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/App.js","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\n\nconst Header = ({auth}) => {\n  const authButton = auth ?\n    <a href=\"/api/logout\">Logout</a> :\n    <a href=\"/api/auth/google\">Login</a>;\n\nreturn (\n    <div>\n      <Link to=\"/\">Home</Link>\n      <Link to=\"/users\">Users</Link>\n      <Link to=\"/admins\">Admins</Link>\n      {authButton}\n    </div>\n  )\n};\n\nconst mapState = state => ({auth: state.auth});\n\nexport default connect(mapState)(Header);\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Header.js","import React from 'react';\n\nconst Home = () => {\n\n  return (\n    <div>\n      <div>I'm the homiest pages!</div>\n      <button onClick={() => console.log('hey')}>Click</button>\n    </div>\n  )\n}\n\nexport default Home;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/HomePage.js","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {fetchAdmins} from 'store/actions';\nimport requireAuth from 'client/components/hocs/requireAuth';\n\nclass AdminsListPage extends Component {\n  render () {\n    return (\n      <div>\n        <h2>Protected List of Admins</h2>\n        <ul>{this.renderAdmins()}</ul>\n      </div>\n    );\n  }\n\n  componentDidMount () {\n    this.props.fetchAdmins();\n  }\n\n  renderAdmins () {\n    return this.props.admins.map(admin => {\n      return <li key={admin.id}>{admin.name}</li>;\n    });\n  }\n}\n\nconst authEnforced = requireAuth(AdminsListPage);\nconst mapState = ({admins}) => ({admins});\nconst connectedToStore = connect(mapState, {fetchAdmins})(authEnforced);\nconnectedToStore.loadData = ({dispatch}) => dispatch(fetchAdmins());\nexport default connectedToStore;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/AdminsListPage.js","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nexport default AuthedComponent => {\n  class RequireAuth extends Component {\n    render () {\n      switch (this.props.auth) {\n        case false: return <Redirect to=\"/\" />;\n        case null: return <div>Loading...</div>;\n        default: return <AuthedComponent {...this.props} />;\n      }\n    }\n  }\n  const mapState = ({auth}) => ({auth})\n  return connect(mapState)(RequireAuth);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/hocs/requireAuth.js","import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport {Helmet} from 'react-helmet';\nimport {fetchUsers} from 'store/actions';\n\nclass UsersList extends Component {\n  render () {\n    return (\n      <div>\n        {this.setPageHeader()}\n        Here's a list of users:\n        <ul>\n          {this.renderUsers()}\n        </ul>\n      </div>\n    )\n  }\n\n  componentDidMount () {\n    this.props.fetchUsers();\n  }\n\n  setPageHeader () {\n    return (\n      <Helmet>\n        <title>{`${this.props.users.length} Users`}</title>\n        <meta property=\"og:title\" content=\"Users App\" />\n      </Helmet>)\n  }\n\n  renderUsers () {\n    return this.props.users.map(user => {\n      return <li key={user.id}>{user.name}</li>\n    })\n  }\n\n  static loadData (store) {\n    return store.dispatch(fetchUsers());\n  }\n\n}\n\nconst mapState = state => ({users: state.users});\n\nexport default connect(mapState, {fetchUsers})(UsersList);\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/UsersListPage.js","import React from 'react';\n\n// StaticRouter swaps props.context with props.staticContext\nconst NotFoundPage = ({staticContext}) => {\n  staticContext.notFound = true;\n  console.log('NotFoundPage context: ', staticContext);\n  return (\n    <h2>The page you're looking for doesn't exist.</h2>\n  )\n};\n\nexport default NotFoundPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/NotFoundPage.js","import constructStore from 'store/constructStore';\nexport default constructStore;\nexport {default as rootReducer} from 'store/reducers';\nexport * from 'store/actions';\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import {FETCH_ADMINS} from 'store/actions';\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case FETCH_ADMINS: return action.payload.data;\n    default: return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/adminsReducer.js","import {FETCH_USERS} from 'store/actions';\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case FETCH_USERS: return action.payload.data;\n    default: return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/usersReducer.js","import {FETCH_CURRENT_USER} from 'store/actions';\n\nexport default function (state = null, action) {\n  switch (action.type) {\n    case FETCH_CURRENT_USER: return action.payload.data || false;\n    default: return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/authReducer.js","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from 'store/reducers';\nimport axios from 'axios';\n\nconst clientToAPI = axios.create({\n  baseURL: '/api',\n})\n\nconst newServerAxios = req => axios.create({\n  baseURL: 'http://react-ssr-api.herokuapp.com',\n  headers: {cookie: req.get('cookie') || ''},\n})\n\nexport default function constructStore (req) {\n  let initialState;\n  let customAxios;\n  if (req) { // configure for server-side store\n    initialState = {};\n    customAxios = newServerAxios(req);\n  } else { // configure for client-side store\n    initialState = window.INITIAL_STATE;\n    customAxios = clientToAPI;\n  }\n\n  return createStore(\n    reducers,\n    initialState,\n    applyMiddleware(thunk.withExtraArgument(customAxios))\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/constructStore.js","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 28\n// module chunks = 0","import serialize from 'serialize-javascript';\nimport {Helmet} from 'react-helmet';\n\nexport default (store, appString) => {\n  const helmet = Helmet.renderStatic();\n\n  return (\n    `<html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n        ${helmet.title.toString()}\n        ${helmet.meta.toString()}\n      </head>\n      <body>\n        <div id=\"root\">${appString}</div>\n        <script>\n          window.INITIAL_STATE = ${serialize(store.getState(), {isJSON: true})}\n        </script>\n        <script defer src=\"bundle.js\"></script>\n      </body>\n      </html>`\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/buildHTML.js","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 30\n// module chunks = 0"],"sourceRoot":""}